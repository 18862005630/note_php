### php正则表达式
```
定义：一个完整的正则表达式包含元字符和文本字符。
元字符是具有特殊含义的字符。如“*”、“？”等。
文本字符则是普通文本。如字母和数字等。
一般正则表达式被定界符“/”包含其中，除一些特殊的。
```
##### 1、行定位符（^和$）
```
匹配字符串行首和行尾
^:行首
^abc:代表以abc开头的字符串都匹配

$:行尾
$def:代表以def结尾的字符串都匹配
```

##### 2、单词定界符（\b和\B）
```
上面是匹配子字符串是父字符串的一部分，
但单词定界符则匹配出子字符串为一个完整的单词
\b:表示查找的字符串为一个完整的单词。如\btm\b
\B:与\b相反，它匹配的字符串不能是一个完整的单词，而是其他单词或字符串的一部分。如\Btm\B
```

##### 3、字符类([])
```
正则表达式是区分大小写的，如要不区分大小写可用方括号“[]”，但注意一个方括号只能匹配一个字符。
如要匹配tm不区分大小写：[Tt][Mm]
注意一些特殊含义的预定义字符类。
如：
[:digit:]:十进制数字集合。等同于[0-9]
[[:alnum:]]:字母和数字集合。等同于[a-zA-Z0-9]
[[:alpha:]]:字母集合。等同于[a-zA-Z]
[[:xdigit:]]:十六进制数字集合。
[[:upper:]]:所有大写字母集合。等同于[A-Z]
[[:lower:]]:所有小写字母集合。等同于[a-z]
```

##### 4、选择字符(|)
```
选择字符类似于或的意思
如匹配不区分大小写的tm也可写成:[T|t][M|m]

注意:
“|”与“[]”的区别在于，方括号“[]”只能匹配一个字符，但选择字符“|”可以匹配任意长度字符串。
如上面的例子复杂写法：tm|TM|Tm|tM

```

##### 5、连字符(-)
```
连字符用来表示字符的范围
如：[0-9]：0到9所有数字的集合

```

##### 6、排除字符([^])
```
出现在方括号中的“^”代表取反
如：[^a-zA-Z]表示匹配不包含字母的字符串

```

##### 7、限定符(?*+{n,m})
```
父字符串中包含多个重复的字符或字串，可以使用限定符来匹配。
限定符主要有6种：
?:匹配限定符“?”前面的字符0次或1次。（通俗点，至多1次）。如：colou?r（u出现0次或1次）可以匹配：colour、color
+:匹配限定符“+”前面的字符1次或多次。(通俗点，至少1次) 。如：go+gle （o出现1次或多次）可以匹配从gogle到goo****gle
*:匹配限定符“*”前面的字符0次或多次。(通俗点，字符出现次数没要求)。如：go*gle （o出现0次或多次）可以匹配ggle到goo***gle
{n}:匹配前面的字符n次。（通俗点，指定前面的字符出现次数）。如：go{2}gle (o出现2次) 可以匹配google
{n,}:匹配前面的字符最少n次。如：go{2,}gle （o至少出现2次）可以匹配从google到goo***gle
{n,m}:匹配前面的字符最少n次，最多m次。如employe{0,2} 可以匹配employ、employe、employee
```

##### 8、点号字符(.)
```
定义：匹配除换行符外的、任意一个字符。

如：匹配s开头，t结尾，中间包含一个字符的单词
/^s.t$/

如：匹配r开头，t结尾，第三个字母为s的单词
/^r.s.*t$/
解析：r开头，t结尾，第三字母为s，第二字母需要一个字符占位，第四往后的字符没有要求提示，则假设第四为一个字符，用*表示此字符可以出现0次或多次

```

##### 9、转义字符(\)
```
将特殊字符转义为普通字符
如匹配类似于127.0.0.1这样的IP地址
/[0-9]{1,3}(\.[0-9]{1,3}){3}/
解析：字符“.”直接出现代表点号字符，是匹配陈换行符外的，任意一个字符。所以需要转义字符将"."转义为普通的字符

```

##### 10、反斜线(\)
```
反斜线除了作为转义字符，还有其他功能

1、可以将一些不可打印的字符显示出来
\a:警报
\b:退格,注意php中只有在[]中使用才表示退格
\e:escape即esc字符
\f:换页符
\n:换行符
\r:回车符
\t:水平制表符
\xhh:十六进制代码
\ddd:八进制代码
\cx:即controller-x的缩写，匹配由x指明的控制字符，x为任意字符

2、指定预定义字符集
\d:任意一个十进制数字
\D:任意一个非十进制数字
\s:任意一个空白字符
\S:任意一个非空白字符
\w:任意一个单词字符，等同于[a-zA-Z0-9_]
\W:任意一个非单词字符

3、定义断言
\b:单词分界符,用来匹配字符串中的某些位置，\b是以统一的分界符来匹配
\B:非单词分界符序列
\A:总是能匹配待搜索文本的起始位置
\Z:表示在未指定任何模式下匹配的字符，通常是字符串的末尾位置，或者是在字符串末尾的换行符之前的位置
\G:当前匹配的起始位置

```

##### 11、括号字符(())
```
1、改变限定符的作用范围
如：/(thir|four)th/
th作用在thir和four上，则匹配thirth或fourth
如果没有小括号，则匹配thir或fourth

2、分组，作为子表达式
上面IP地址的例子/(.[0-9]{1,3}){3}/
IP地址的后面都以".数字"的形式重复3次

```

##### 12、反向引用
```
定义：依靠子表达式的记忆功能来匹配连续出现的字串或字母

单个分组
如：匹配连续两个it
/(it)\1/


也可使用多个分组，顺序从左往右
/([a-z])([A-Z])\1\2/
解析：匹配连续2个[a-z]和连续3个[A-Z],如aAaAA，bBbBB

也可以给分组指定名称:格式(?P<subname>子表达式)
通过指定的名称来引用：格式(?P=subname)
先指定名称，后引用
如：(?P<fir>[a-z])(?P<sec>[A-Z])(?P=fir)(?P=sec)
指定名称的时候就代表有一个字母占位了，所以该正则匹配四位字母，且都是“小写大写小写大写”这样的格式，而不是只占引用的后两位部分，可以匹配aAaA,aBaB

```

##### 13、模式修饰符
```
定义：模式修饰符作用是设定模式，也就是规定正则表达式如何解释和应用。

1、
i：忽略大小写模式
表达式写法：（以下其他模式修饰符用法都一样）
/正则表达式/i
/(?i)正则表达式(?-i)/
/(?i:正则表达式)/

2、
M：多文本模式。即字串内部有多个换行符时，影响“^”和“$”的匹配。

3、
s：单文本模式。在此模式下，元字符“.”可以用来匹配换行符，其他模式则不能匹配换行符。

4、
X：忽略空白字符模式。

```